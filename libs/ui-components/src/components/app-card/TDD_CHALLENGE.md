# TDD Challenge: app-card Component

## ğŸ¯ Your Mission

Implement the `app-card` Web Component to pass all 14 tests. This is your first hands-on TDD challenge!

## ğŸ“‹ Test-Driven Development Workflow

### Step 1: Run Tests (Watch Mode)

```bash
# Start test watcher - tests will re-run on every save
npx nx test ui-components --testFile=app-card.spec.tsx --watch
```

**Expected**: All 14 tests will fail initially. This is perfect! âœ…

### Step 2: Read the Tests

Open `libs/ui-components/src/components/app-card/app-card.spec.tsx` and understand what each test expects:

- âœ… Basic rendering (title, description)
- âœ… Variant classes (default, highlighted, compact)
- âœ… Conditional image rendering
- âœ… Click event emission
- âœ… Keyboard accessibility (Enter, Space)
- âœ… Slot content
- âœ… Accessibility attributes (role, tabindex, aria-label)

### Step 3: Implement One Feature at a Time

**Start Simple**: Make the first test pass before moving to the next.

#### Example Iteration 1: Basic Rendering

```tsx
render() {
  return (
    <div class={`card card-${this.variant}`}>
      <h3 class="card-title">{this.title}</h3>
      <p class="card-description">{this.description}</p>
    </div>
  );
}
```

**Run test** â†’ See 1-2 tests pass â†’ Commit progress â†’ Continue

#### Example Iteration 2: Add Click Handler

```tsx
private handleClick = () => {
  this.cardClick.emit({ title: this.title });
};

render() {
  return (
    <div
      class={`card card-${this.variant}`}
      onClick={this.handleClick}
    >
      {/* ...rest */}
    </div>
  );
}
```

### Step 4: Watch Tests Pass One by One

As you implement each feature, you'll see tests turn green in the terminal:

```
âœ“ renders with required props
âœ“ applies default variant class
âœ“ emits cardClick event when clicked
...
```

### Step 5: Final Verification

Once all 14 tests pass:

```bash
# Run tests once (no watch mode)
npx nx test ui-components --testFile=app-card.spec.tsx

# Build the component library
npx nx build ui-components
```

## ğŸ§ª Implementation Hints

### Conditional Image Rendering

```tsx
{
  this.imageUrl && <img class="card-image" src={this.imageUrl} alt={this.imageAlt} />;
}
```

### Keyboard Handler

```tsx
private handleKeyPress = (_event: KeyboardEvent) => {
  if (_event.keyCode === 13 || _event.keyCode === 32) {
    this.handleClick();
  }
};
```

### Accessibility Attributes

```tsx
<div
  class={`card card-${this.variant}`}
  role="button"
  tabindex="0"
  aria-label={`${this.title} card`}
  onClick={this.handleClick}
  onKeyPress={this.handleKeyPress}
>
```

### Slot Content

```tsx
<div class="card-slot">
  <slot />
</div>
```

## ğŸ¨ Styling

All styles are provided in `app-card.scss`. You just need to apply the correct class names:

- `.card` â†’ Base container
- `.card-default` / `.card-highlighted` / `.card-compact` â†’ Variant modifiers
- `.card-image` â†’ Image element
- `.card-title` â†’ Title heading
- `.card-description` â†’ Description paragraph
- `.card-slot` â†’ Slot container

## âœ… Success Criteria

When all tests pass, you should see:

```
 âœ“ libs/ui-components/src/components/app-card/app-card.spec.tsx (14)
   âœ“ app-card (14)
     âœ“ renders with required props
     âœ“ applies default variant class
     âœ“ applies highlighted variant class
     âœ“ applies compact variant class
     âœ“ renders image when imageUrl is provided
     âœ“ does not render image when imageUrl is not provided
     âœ“ uses custom image alt text when provided
     âœ“ uses default alt text when imageAlt is not provided
     âœ“ emits cardClick event when clicked
     âœ“ emits cardClick event on Enter key press
     âœ“ emits cardClick event on Space key press
     âœ“ renders slotted content
     âœ“ has proper accessibility attributes
     âœ“ renders all elements in correct order

 Test Files  1 passed (1)
      Tests  14 passed (14)
```

## ğŸš€ Next Steps (After Tests Pass)

1. **Showcase It**: Add `<app-card>` examples to `component-showcase/src/pages/gallery.ts`
2. **Export It**: Verify `app-card` is exported in `libs/ui-components/src/components.d.ts` (auto-generated by Stencil)
3. **Use It**: Import `@jeffapp/ui-components` in any frontend app and use `<app-card>`

## ğŸ’¡ TDD Philosophy

> "Red â†’ Green â†’ Refactor"

1. **Red**: Run tests, see them fail (understand requirements)
2. **Green**: Write minimal code to make tests pass (implement features)
3. **Refactor**: Improve code quality while keeping tests green (clean up)

You're in the **Red** phase. Your goal is to reach **Green**! ğŸ‰

## ğŸ†˜ Troubleshooting

### Tests won't run?

```bash
# Make sure dependencies are installed
npm install

# Check Stencil build
npx nx build ui-components
```

### TypeScript errors in editor?

That's expected! The component template has intentional `TODO` placeholders. Once you implement the features, errors will resolve.

### Need to see a working example?

Check `libs/ui-components/src/components/app-button/app-button.tsx` for a similar Stencil component pattern.

---

**Ready? Start your test watcher and begin implementing! ğŸ**

```bash
npx nx test ui-components --testFile=app-card.spec.tsx --watch
```
